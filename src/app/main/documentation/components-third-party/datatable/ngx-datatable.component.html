<ng-template #hdrTpl let-column="column" >
    <filter-comp [columnName]=column.name>
    </filter-comp>        
</ng-template>

<ng-template #editTmpl let-row="row" let-value="value">
    <div *ngIf="value.length > 0">
        <img 
            width="50"
            src="http://genplan1/img/data/{{value[0].preview}}"
            />
    </div>
</ng-template>                                

<ng-template #clientControlTmpl let-row="row" let-value="value">
    <div class="actions" fxLayout="row" fxLayoutAlign="start center">

        <button *ngIf="value == ''" mat-icon-button (click)="toggleUserGet(row)" aria-label="Toggle important">
            <mat-icon class="green-fg">attach_money</mat-icon>
        </button>

        <button *ngIf="value != ''" mat-icon-button (click)="toggleUserGet(row)" aria-label="Toggle important">
            <mat-icon class="red-fg">headset_mic</mat-icon> {{value}}
        </button>

    </div>
</ng-template>                                

<ng-template #clientIdTmpl let-row="row" let-value="value">
    <div class="actions" fxLayout="row" fxLayoutAlign="start center">

        <button mat-icon-button (click)="view_details(value)" aria-label="Toggle star">
                {{value}} <mat-icon class="amber-fg">pageview</mat-icon>
        </button>
    </div>
</ng-template>                                

<div id="ngx-datatable" class="page-layout simple fullwidth">

<!-- CONTENT -->
<div class="content" fusePerfectScrollbar>

    <mat-tab-group dynamicHeight>

        <mat-tab label="Все ({{total_all}})">
            
            <!-- WIDGET GROUP -->
            <div class="widget-group grey-100-bg" fxLayout="row wrap" fxFlex="100" *fuseIfOnDom
                 [@animateStagger]="{value:'50'}">
                 <!-- WIDGET 11 -->
                 <fuse-widget [@animate]="{value:'*',params:{y:'100%'}}" class="widget" fxLayout="row"
                    fxFlex="100">
                    <!-- Front -->
                    <div class="fuse-widget-front mat-white-bg mat-elevation-z2">
                        
                        <ngx-datatable
                            class="material"
                            [rows]="rows"
                            [columns]="columns"
                            [loadingIndicator]="loadingIndicator"
                            [columnMode]="'force'"
                            [headerHeight]="48"
                            [footerHeight]="56"
                            [rowHeight]="'auto'"
                            [scrollbarH]="true"
                            [reorderable]="reorderable"
                            [limit]="10"
                            (activate)="onActivate($event)"
                            >
                        </ngx-datatable>
                    </div>
                    <!-- / Front -->
                </fuse-widget>
                <!-- / WIDGET 11 -->
            </div>
            <!-- / WIDGET GROUP -->
        </mat-tab>
        <mat-tab label="Мои ({{total_my}})">
            <!-- WIDGET GROUP -->
            <div class="widget-group grey-100-bg" fxLayout="row wrap" fxFlex="100" *fuseIfOnDom
                 [@animateStagger]="{value:'50'}">
                 <!-- WIDGET 11 -->
                 <fuse-widget [@animate]="{value:'*',params:{y:'100%'}}" class="widget" fxLayout="row"
                    fxFlex="100">
                    <!-- Front -->
                    <div class="fuse-widget-front mat-white-bg mat-elevation-z2">
                        
                        <ngx-datatable
                            class="material"
                            [rows]="rows_my"
                            [columns]="columns"
                            [loadingIndicator]="loadingIndicator"
                            [columnMode]="'force'"
                            [headerHeight]="48"
                            [footerHeight]="56"
                            [rowHeight]="'auto'"
                            [scrollbarH]="true"
                            [reorderable]="reorderable"
                            [limit]="10"
                            (activate)="onActivate($event)"
                            >
                        </ngx-datatable>
                    </div>
                    <!-- / Front -->
                </fuse-widget>
                <!-- / WIDGET 11 -->
            </div>
            <!-- / WIDGET GROUP -->
        </mat-tab>
        
    </mat-tab-group>
                <button mat-button (click)="refreash()">Обновить</button>

</div>
<!-- / CONTENT -->


</div>


