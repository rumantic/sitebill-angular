<div class="page-layout blank p-24" fusePerfectScrollbar>


    <ngx-datatable
        class="bootstrap"

        [headerHeight]="75"
        [footerHeight]="'auto'"
        [rows]="rows_data"
        [rowHeight]="undefined"
    >
        <ngx-datatable-column [cellClass]="'header-cell'" [width]="100">
            <ng-template let-row="row" ngx-datatable-header-template>

                <strong>Этаж</strong>
            </ng-template>

            <ng-template let-row="row" ngx-datatable-cell-template>

                <ngx-datatable [rows]="[row]" [columnMode]="'force'" [headerHeight]="undefined"  [rowHeight]="'auto'" [footerHeight]="undefined">
                    <ngx-datatable-column [prop]="'floor'"></ngx-datatable-column>
                </ngx-datatable>

            </ng-template>

        </ngx-datatable-column>

        <ngx-datatable-column *ngFor="let stair of stairs" [width]="300">
            <ng-template let-row="row" ngx-datatable-header-template>
                <strong>{{stair.getName()}}</strong>
                <ngx-datatable [rows]="[row]"  [columnMode]="'force'" [headerHeight]="'auto'" [rowHeight]="undefined" [footerHeight]="undefined">
                    <ngx-datatable-column *ngFor="let section of stair.getSections()" [name]="section.name"></ngx-datatable-column>
                </ngx-datatable>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>

                <ngx-datatable [rows]="[row]" [columnMode]="'force'" [headerHeight]="undefined" [rowHeight]="'auto'" [footerHeight]="undefined">
                    <ngx-datatable-column *ngFor="let section_floor of stair.getSections()"  [prop]="'_id'">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <ng-container *ngIf="row.stair_id == stair.getId() && row.section_id == section_floor.getId()">
                                <ng-container *ngIf="row.realty">
                                    <realty-item *ngIf="row.realty" [realty_item]="row.realty"></realty-item>
                                </ng-container>
                            </ng-container>
                        </ng-template>
                    </ngx-datatable-column>
                </ngx-datatable>

            </ng-template>
        </ngx-datatable-column>


    </ngx-datatable>
</div>
